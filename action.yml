name: "Synapse Login"

description: "Log into Synapse"

inputs:
  username:
    description: "Synapse username"
    required: true

  apikey:
    description: "Synapse apikey"
    required: true

runs:
  using: "composite"
  steps:
    - shell: bash
      run: |
        OUTPUT_FILE=~/.synapseConfig
        cat > "$OUTPUT_FILE" << EOM
        [authentication]
        username = ${{ inputs.username }}
        apikey = ${{ inputs.apikey }}
        EOM
        chmod +x "$OUTPUT_FILE"